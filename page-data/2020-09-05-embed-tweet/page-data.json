{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020-09-05-embed-tweet/","result":{"data":{"site":{"siteMetadata":{"title":"メンティーのおどり"}},"markdownRemark":{"id":"0411b3f6-dc37-5fd7-97a1-32b12962cb82","excerpt":"Gatsby.jsで作ったブログにツイートの埋め込みしようとしてちょっとうまくいかなかったのでメモです。\ngatsby-plugin-twitter…","html":"<p>Gatsby.jsで作ったブログにツイートの埋め込みしようとしてちょっとうまくいかなかったのでメモです。\ngatsby-plugin-twitterをいれると埋め込みできるようになりました。</p>\n<h2>ツイート埋め込みコード</h2>\n<p>ツイッターの埋め込み機能のとこから取得したタグはこんなの。</p>\n<p>テキストだけのツイート</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>blockquote</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>twitter-tweet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-dnt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ja<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dir</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ltr<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    おかき好きだからおかき関係のエンジニアになりたいかも\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token entity named-entity\" title=\"&mdash;\">&amp;mdash;</span> みう@かけだしメンティー🍓 (@programable_miu)\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://twitter.com/programable_miu/status/1269613634730078208?ref_src=twsrc%5Etfw<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    June 7, 2020\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>blockquote</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">async</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://platform.twitter.com/widgets.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>こっちはテキストと動画のツイート</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>blockquote</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>twitter-tweet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-dnt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ja<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dir</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ltr<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    私のブログ、Hタグがぷるぷるしてるのが読みにくいってコメントをいただいて、\n    おそらくHタグだけぷるぷるしてるのがよくないんだなと考えたので、\n    BODY全体をぷるぷるさせてみました👍\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">></span></span>\n    だいぶデザインとしてよくなった気がします！\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://t.co/r0jrODnJnC<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      pic.twitter.com/r0jrODnJnC\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token entity named-entity\" title=\"&mdash;\">&amp;mdash;</span> みう@かけだしメンティー🍓 (@programable_miu)\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://twitter.com/programable_miu/status/1300454449203216386?ref_src=twsrc%5Etfw<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    August 31, 2020\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>blockquote</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">async</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://platform.twitter.com/widgets.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>これを貼り付けるとツイートの埋め込みができるはずなんですけど・・・</p>\n<h2>うまくいってないとき</h2>\n<p>マークダウンにそのまま貼ってみると、ただの引用になっちゃってうまくいかなかったです。\nうまくいってないときの再現のためにblockquoteタグのclassとdata-dntを消したもの置いておきます。</p>\n<blockquote><p lang=\"ja\" dir=\"ltr\">おかき好きだからおかき関係のエンジニアになりたいかも</p>&mdash; みう@かけだしメンティー🍓 (@programable_miu) <a href=\"https://twitter.com/programable_miu/status/1269613634730078208?ref_src=twsrc%5Etfw\">June 7, 2020</a></blockquote>\n<blockquote><p lang=\"ja\" dir=\"ltr\">私のブログ、Hタグがぷるぷるしてるのが読みにくいってコメントをいただいて、おそらくHタグだけぷるぷるしてるのがよくないんだなと考えたので、BODY全体をぷるぷるさせてみました👍<br><br>だいぶデザインとしてよくなった気がします！ <a href=\"https://t.co/r0jrODnJnC\">pic.twitter.com/r0jrODnJnC</a></p>&mdash; みう@かけだしメンティー🍓 (@programable_miu) <a href=\"https://twitter.com/programable_miu/status/1300454449203216386?ref_src=twsrc%5Etfw\">August 31, 2020</a></blockquote>\n<p>引用になるってことはblockquoteタグのとこはちゃんとHTMLとしていけてそうですね。\nscriptタグの部分が実行されてないみたいです。</p>\n<h2>gatsby-plugin-twitterいれるといける</h2>\n<p>gatsby-plugin-twitterってのをいれるといけるみたいです。</p>\n<p><a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-twitter/\">https://www.gatsbyjs.com/plugins/gatsby-plugin-twitter/</a></p>\n<p>どれどれ〜</p>\n<blockquote class=\"twitter-tweet\" data-dnt=\"true\"><p lang=\"ja\" dir=\"ltr\">おかき好きだからおかき関係のエンジニアになりたいかも</p>&mdash; みう@かけだしメンティー🍓 (@programable_miu) <a href=\"https://twitter.com/programable_miu/status/1269613634730078208?ref_src=twsrc%5Etfw\">June 7, 2020</a></blockquote>\n<blockquote class=\"twitter-tweet\" data-dnt=\"true\"><p lang=\"ja\" dir=\"ltr\">私のブログ、Hタグがぷるぷるしてるのが読みにくいってコメントをいただいて、おそらくHタグだけぷるぷるしてるのがよくないんだなと考えたので、BODY全体をぷるぷるさせてみました👍<br><br>だいぶデザインとしてよくなった気がします！ <a href=\"https://t.co/r0jrODnJnC\">pic.twitter.com/r0jrODnJnC</a></p>&mdash; みう@かけだしメンティー🍓 (@programable_miu) <a href=\"https://twitter.com/programable_miu/status/1300454449203216386?ref_src=twsrc%5Etfw\">August 31, 2020</a></blockquote>\n<p>できたできた👍</p>","frontmatter":{"title":"Gatsbyのブログにツイート埋め込みする","date":"2020年09月05日","description":"Gatsby.jsで作ったブログにツイートの埋め込みしようとしてちょっとうまくいかなかったのでメモです。gatsby-plugin-twitterをいれると埋め込みできるようになりました。"}}},"pageContext":{"slug":"/2020-09-05-embed-tweet/","previous":{"fields":{"slug":"/2020-08-31-kakedashi_engineer_map/"},"frontmatter":{"title":"駆け出しエンジニア界隈の地図"}},"next":null}},"staticQueryHashes":["2841359383","785421583"]}